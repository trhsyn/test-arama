<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Arapça Arama Testi</title>
<style>
body { font-family: system-ui; padding:20px; }
input { width:100%; padding:10px; font-size:18px; }
.card { margin-top:15px; padding:10px; border:1px solid #ccc; }
.ar { font-size:22px; direction:rtl; }
</style>
</head>
  
<body>
  
<h2>Kelime Ekle</h2>

<form id="entryForm">

  <label>Kelime Türü</label>
  <select id="type">
    <option value="isim">İsim</option>
    <option value="fiil">Fiil</option>
    <option value="mastar">Mastar</option>
    <option value="deyim">Deyim</option>
  </select>

  <label>Arapça Kelime</label>
  <input id="word" required>

  <label>Türkçe Karşılık</label>
  <input id="tr" required>

  <label>Arapça Örnek Cümle</label>
  <textarea id="exAr"></textarea>

  <label>Türkçe Çeviri</label>
  <textarea id="exTr"></textarea>

  <label>Not</label>
  <textarea id="note"></textarea>

  <button type="submit">➕ Ekle</button>
</form>

<hr>

function normalizeArabic(text) {
  return text
    .replace(/[\u064B-\u065F\u0670]/g, "")
    .replace(/\u0640/g, "")
    .replace(/[آأإٱ]/g, "ا")
    .replace(/[يى]/g, "ي")
    .replace(/ة/g, "ه")
    .replace(/ؤ/g, "و")
    .replace(/ئ/g, "ي");
    }
  });
}

const search = document.getElementById("search");
const list = document.getElementById("list");

function render() {
  const q = normalizeArabic(search.value.trim());
  list.innerHTML = "";

  data.forEach(e => {
    const haystack =
      normalizeArabic(e.word + " " + e.exAr);

    if (haystack.includes(q)) {
      list.innerHTML = `
        <div class="card">
          <div class="ar">${e.word}</div>
          <div>${e.meaning}</div>
          <div class="ar">${e.exAr}</div>
        </div>`;
    }
  });
}

search.addEventListener("input", render);
render();
  
<script>
const form = document.getElementById("entryForm");

form.addEventListener("submit", function (e) {
  e.preventDefault();

  const entry = {
    id: Date.now(),
    type: type.value,
    word: word.value.trim(),
    tr: tr.value.trim(),
    exAr: exAr.value.trim(),
    exTr: exTr.value.trim(),
    note: note.value.trim()
  };

  if (!entry.word || !entry.tr) {
    alert("Arapça kelime ve Türkçe karşılık zorunlu");
    return;
  }

  const data = JSON.parse(localStorage.getItem("dict") || "[]");
  data.push(entry);
  localStorage.setItem("dict", JSON.stringify(data));

  form.reset();
  alert("Kelime eklendi");
});
</script>

</body>
</html>
